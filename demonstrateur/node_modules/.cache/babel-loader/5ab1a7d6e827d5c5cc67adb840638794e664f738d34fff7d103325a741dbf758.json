{"ast":null,"code":"var _jsxFileName = \"/Users/maroua/Downloads/react_web/voiceanalysis/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport './bootstrap/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  /*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 3\n  }, this);\n  const [audioFile, setAudioFile] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState('');\n  const mediaRecorderRef = useRef(null);\n  const audioUrlRef = useRef(null);\n  const startRecording = async () => {\n    try {\n      setError('');\n      const stream = await navigator.mediaDevices.getUserMedia({\n        audio: true\n      });\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaRecorderRef.current.ondataavailable = event => {\n        setAudioFile(event.data);\n        audioUrlRef.current = URL.createObjectURL(event.data);\n      };\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n      setError('Failed to start recording. Please ensure the microphone is accessible.');\n    }\n  };\n  const stopRecording = () => {\n    mediaRecorderRef.current.stop();\n    setIsRecording(false);\n  };\n  const handleUpload = event => {\n    setAudioFile(event.target.files[0]);\n  };\n  const handleSubmit = async () => {\n    if (!audioFile) return;\n    setResult(null);\n    setError('');\n    const formData = new FormData();\n    formData.append('voice', audioFile);\n    try {\n      const response = await axios.post('YOUR_API_ENDPOINT', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      setResult(response.data);\n    } catch (error) {\n      console.error('Error in submitting file:', error);\n      setError('An error occurred while sending the data.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"my-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"mb-4\",\n      children: \"Voice Emotion Analysis\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"primary\",\n      onClick: isRecording ? stopRecording : startRecording,\n      children: isRecording ? 'Stop Recording' : 'Start Recording'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n      src: audioUrlRef.current,\n      controls: true,\n      className: \"my-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      onChange: handleUpload,\n      accept: \"audio/*\",\n      className: \"my-3\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      variant: \"success\",\n      onClick: handleSubmit,\n      children: \"Launch\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), result && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"result-display mt-4\",\n      children: [\"Emotion Analysis: \", result]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n  /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"+vYaRexxvlGQn6xq3gs6uEO5DCw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useRef","axios","Container","Button","Alert","Header","Footer","jsxDEV","_jsxDEV","App","_s","fileName","_jsxFileName","lineNumber","columnNumber","audioFile","setAudioFile","isRecording","setIsRecording","result","setResult","error","setError","mediaRecorderRef","audioUrlRef","startRecording","stream","navigator","mediaDevices","getUserMedia","audio","current","MediaRecorder","ondataavailable","event","data","URL","createObjectURL","start","console","stopRecording","stop","handleUpload","target","files","handleSubmit","formData","FormData","append","response","post","headers","className","children","variant","onClick","src","controls","type","onChange","accept","_c","$RefreshReg$"],"sources":["/Users/maroua/Downloads/react_web/voiceanalysis/src/App.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport './bootstrap/css/bootstrap.min.css';\nimport Container from 'react-bootstrap/Container';\nimport Button from 'react-bootstrap/Button';\nimport Alert from 'react-bootstrap/Alert';\nimport './App.css';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nfunction App() {\n  <Header />\n  const [audioFile, setAudioFile] = useState(null);\n  const [isRecording, setIsRecording] = useState(false);\n  const [result, setResult] = useState(null);\n  const [error, setError] = useState('');\n  const mediaRecorderRef = useRef(null);\n  const audioUrlRef = useRef(null);\n\n  const startRecording = async () => {\n    try {\n      setError('');\n      const stream = await navigator.mediaDevices.getUserMedia({ audio: true });\n      mediaRecorderRef.current = new MediaRecorder(stream);\n      mediaRecorderRef.current.ondataavailable = (event) => {\n        setAudioFile(event.data);\n        audioUrlRef.current = URL.createObjectURL(event.data);\n      };\n      mediaRecorderRef.current.start();\n      setIsRecording(true);\n    } catch (error) {\n      console.error('Error starting recording:', error);\n      setError('Failed to start recording. Please ensure the microphone is accessible.');\n    }\n  };\n\n  const stopRecording = () => {\n    mediaRecorderRef.current.stop();\n    setIsRecording(false);\n  };\n\n  const handleUpload = (event) => {\n    setAudioFile(event.target.files[0]);\n  };\n\n  const handleSubmit = async () => {\n    if (!audioFile) return;\n    setResult(null);\n    setError('');\n    const formData = new FormData();\n    formData.append('voice', audioFile);\n\n    try {\n      const response = await axios.post('YOUR_API_ENDPOINT', formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data',\n        },\n      });\n      setResult(response.data);\n    } catch (error) {\n      console.error('Error in submitting file:', error);\n      setError('An error occurred while sending the data.');\n    }\n  };\n\n  return (\n    <Container className=\"my-5\">\n      <h1 className=\"mb-4\">Voice Emotion Analysis</h1>\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      <Button variant=\"primary\" onClick={isRecording ? stopRecording : startRecording}>\n        {isRecording ? 'Stop Recording' : 'Start Recording'}\n      </Button>\n      <audio src={audioUrlRef.current} controls className=\"my-3\" />\n      <input type=\"file\" onChange={handleUpload} accept=\"audio/*\" className=\"my-3\" />\n      <Button variant=\"success\" onClick={handleSubmit}>Launch</Button>\n      {result && <div className=\"result-display mt-4\">Emotion Analysis: {result}</div>}\n    </Container>\n    \n  );\n  <Footer />\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}